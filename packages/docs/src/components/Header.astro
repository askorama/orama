---
import type { Props } from '@astrojs/starlight/props'

import LanguageSelect from '@astrojs/starlight/components/LanguageSelect.astro'
import SiteTitle from '@astrojs/starlight/components/SiteTitle.astro'
import SocialIcons from '@astrojs/starlight/components/SocialIcons.astro'
import ThemeSelect from '@astrojs/starlight/components/ThemeSelect.astro'
import { Search } from './Search'
---

<div class="header flex">
  <div class="flex grow gap-6 items-center">
    <div class="title-wrapper flex items-center justify-center">
      <SiteTitle {...Astro.props} />
    </div>
    <div class="flex min-w-[150px] sm:max-w-[320px] w-full">
      <Search client:only="react" />
	</div>
  </div>
  <div class="hidden sm:flex right-group">
    <div class="flex social-icons">
      <SocialIcons {...Astro.props} />
	</div>
	<ThemeSelect {...Astro.props} />
	<LanguageSelect {...Astro.props} />
  </div>
</div>

<style>
	.header {
		gap: var(--sl-nav-gap);
		justify-content: space-between;
		align-items: center;
		height: 100%;
	}

	.title-wrapper {
		/* Prevent long titles overflowing and covering the search and menu buttons on narrow viewports. */
		overflow: hidden;
		min-width: 140px;
		width: 140px;
	}

	.right-group,
	.social-icons {
		gap: 1rem;
		align-items: center;
	}
	.social-icons::after {
		content: '';
		height: 2rem;
		border-inline-end: 1px solid var(--sl-color-gray-5);
	}
</style>